(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-23e0dde0"],{"291a":function(e,t,s){"use strict";s("89d6")},4304:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e._self._c;return t("vs-tabs",{key:e.isSmallerScreen,staticClass:"tabs-shadow-none",attrs:{position:e.isSmallerScreen?"top":"left",id:"profile-tabs"}},[t("vs-tab",{attrs:{"icon-pack":"feather",icon:"icon-user",label:e.isSmallerScreen?"":"Général"}},[t("div",{staticClass:"tab-general md:ml-4 md:mt-0 mt-4 ml-0"},[t("user-settings-general")],1)]),t("vs-tab",{attrs:{"icon-pack":"feather",icon:"icon-lock",label:e.isSmallerScreen?"":"Modification mot de passe"}},[t("div",{staticClass:"tab-change-pwd md:ml-4 md:mt-0 mt-4 ml-0"},[t("user-settings-change-password")],1)])],1)},r=[],n=function(){var e=this,t=e._self._c;return t("vx-card",{attrs:{"no-shadow":""}},[t("div",{staticClass:"flex flex-wrap items-center mb-base"},[t("vs-avatar",{staticClass:"mr-4 mb-4",attrs:{src:e.activeUserInfo.photoURL,size:"70px"}}),t("div",[t("vs-button",{staticClass:"mr-4 sm:mb-0 mb-2"},[e._v("Upload photo")]),t("vs-button",{attrs:{type:"border",color:"danger"}},[e._v("Remove")]),t("p",{staticClass:"text-sm mt-2"},[e._v("Allowed JPG, GIF or PNG. Max size of 800kB")])],1)],1),t("vs-input",{staticClass:"w-full mb-base",attrs:{"label-placeholder":"Nom d'utilisateur"},model:{value:e.currentUser.username,callback:function(t){e.$set(e.currentUser,"username",t)},expression:"currentUser.username"}}),t("vs-input",{staticClass:"w-full mb-base",attrs:{"label-placeholder":"Nom"},model:{value:e.currentUser.first_name,callback:function(t){e.$set(e.currentUser,"first_name",t)},expression:"currentUser.first_name"}}),t("vs-input",{staticClass:"w-full mb-base",attrs:{"label-placeholder":"Prénom"},model:{value:e.currentUser.last_name,callback:function(t){e.$set(e.currentUser,"last_name",t)},expression:"currentUser.last_name"}}),t("vs-input",{staticClass:"w-full",attrs:{"label-placeholder":"Email"},model:{value:e.currentUser.email,callback:function(t){e.$set(e.currentUser,"email",t)},expression:"currentUser.email"}}),t("div",{staticClass:"flex flex-wrap items-center justify-end"},[t("vs-button",{staticClass:"ml-auto mt-4",on:{click:e.ChangeUserInfo}},[e._v("Sauvegarder les modifications")])],1)],1)},o=[],i=(s("96cf"),s("1da1")),c=s("bc3a"),l=s.n(c),u={data:function(){return{username:"johny_01",name:this.$store.state.AppActiveUser.displayName,email:"john@admin.com",company:"SnowMash Technologies Pvt Ltd",currentUser:{}}},computed:{activeUserInfo:function(){return this.$store.state.AppActiveUser}},mounted:function(){this.GetCurrentUser()},methods:{ChangeUserInfo:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l.a.put("/authentification/user/",this.currentUser,{headers:{Authorization:"Token ".concat(localStorage.getItem("access_token"))}}).then((function(){t.$vs.notify({title:"Modification avec succès",color:"success"})})).catch((function(){t.$vs.notify({title:"Erreur de modification",text:"veuillez vérifier vos informations",iconPack:"feather",icon:"icon-alert-circle",color:"danger"})}));case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),GetCurrentUser:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l.a.get("/authentification/user/",{headers:{Authorization:"Token ".concat(localStorage.getItem("access_token"))}}).then((function(e){t.currentUser=e.data}));case 2:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()}},d=u,p=s("2877"),m=Object(p["a"])(d,n,o,!1,null,null,null),f=m.exports,w=function(){var e=this,t=e._self._c;return t("vx-card",{attrs:{"no-shadow":""}},[t("vs-input",{staticClass:"w-full mb-base",attrs:{type:"password","label-placeholder":"Mot de passe"},model:{value:e.new_password.old_password,callback:function(t){e.$set(e.new_password,"old_password",t)},expression:"new_password.old_password"}}),t("vs-input",{staticClass:"w-full mb-base",attrs:{type:"password","label-placeholder":"Nouveau mot de passe"},model:{value:e.new_password.new_password1,callback:function(t){e.$set(e.new_password,"new_password1",t)},expression:"new_password.new_password1"}}),t("vs-input",{staticClass:"w-full mb-base",attrs:{type:"password","label-placeholder":"Confirmation mot de passe"},model:{value:e.new_password.new_password2,callback:function(t){e.$set(e.new_password,"new_password2",t)},expression:"new_password.new_password2"}}),t("div",{staticClass:"flex flex-wrap items-center justify-end"},[t("vs-button",{staticClass:"ml-auto mt-4",on:{click:e.ChangeUserPassword}},[e._v("Sauvegarder les modifications")])],1)],1)},h=[],v={data:function(){return{new_password:{old_password:"",new_password1:"",new_password2:""}}},computed:{activeUserInfo:function(){return this.$store.state.AppActiveUser}},methods:{ChangeUserPassword:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l.a.post("/authentification/password/change/",this.new_password,{headers:{Authorization:"Token ".concat(localStorage.getItem("access_token"))}}).then((function(){t.$vs.notify({title:"Modification avec succès",color:"success"})})).catch((function(){t.$vs.notify({title:"Erreur de modification",text:"veuillez saisir un mot de passe différent",iconPack:"feather",icon:"icon-alert-circle",color:"danger"})}));case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},b=v,_=Object(p["a"])(b,w,h,!1,null,null,null),g=_.exports,U={components:{UserSettingsGeneral:f,UserSettingsChangePassword:g},data:function(){return{currentUser:{}}},computed:{isSmallerScreen:function(){return this.$store.state.windowWidth<768}}},x=U,k=(s("291a"),Object(p["a"])(x,a,r,!1,null,null,null));t["default"]=k.exports},"89d6":function(e,t,s){}}]);
//# sourceMappingURL=chunk-23e0dde0.b5003e15.js.map