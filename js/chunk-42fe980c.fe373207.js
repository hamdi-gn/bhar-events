(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-42fe980c"],{1779:function(t,e,a){"use strict";a.r(e);a("7f7f");var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"data-list-container",attrs:{id:"data-list-list-view"}},[e("vs-table",{ref:"table",attrs:{multiple:"",pagination:"","max-items":t.itemsPerPage,search:"",data:t.Rentals},scopedSlots:t._u([{key:"default",fn:function(a){var s=a.data;return[e("tbody",t._l(s,(function(a,s){return e("vs-tr",{key:s,attrs:{data:a}},[e("vs-td",[e("p",{staticClass:"product-name font-medium truncate"},[t._v(t._s(a.number))])]),e("vs-td",[e("p",{staticClass:"product-category"},[t._v(t._s(a.client_name))])]),e("vs-td",[e("vs-chip",{staticClass:"product-order-status",attrs:{color:t.getOrderStatusColor(a.rental_status)}},[t._v(t._s(a.rental_status)+"\n            ")])],1),e("vs-td",[e("p",{staticClass:"product-price"},[t._v(t._s(a.total_net_ht)+" DT")])]),e("vs-td",[e("p",{staticClass:"product-price"},[t._v(t._s(a.total_ttc)+" DT")])]),e("vs-td",[e("vs-chip",{staticClass:"product-order-status",attrs:{color:t.getPaymentStatusColor(a.payment_status)}},[t._v(t._s(a.payment_status)+"\n            ")])],1),e("vs-td",[e("p",{staticClass:"product-price"},[t._v(t._s(a.advance)+" DT")])]),e("vs-td",[e("p",{staticClass:"product-price"},[t._v(t._s(a.rest)+" DT")])]),e("vs-td",{staticClass:"whitespace-no-wrap"},[e("feather-icon",{attrs:{icon:"EditIcon",svgClasses:"w-5 h-5 hover:text-primary stroke-current"},on:{click:function(e){return t.GetRental(a)}}}),e("feather-icon",{staticClass:"ml-2",attrs:{icon:"TrashIcon",svgClasses:"w-5 h-5 hover:text-danger stroke-current"},on:{click:function(e){return e.stopPropagation(),t.DeleteRental(a)}}}),e("feather-icon",{staticClass:"ml-2",attrs:{icon:"FileIcon",svgClasses:"w-5 h-5 hover:text-success stroke-current"},on:{click:function(e){return e.stopPropagation(),t.activePromptPrint(a)}}})],1)],1)})),1)]}}]),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},[e("div",{staticClass:"flex flex-wrap-reverse items-center flex-grow justify-between",attrs:{slot:"header"},slot:"header"},[e("div",{staticClass:"flex flex-wrap-reverse items-center data-list-btn-container"}),e("vs-dropdown",{staticClass:"cursor-pointer mb-4 mr-4 items-per-page-handler",attrs:{"vs-trigger-click":""}},[e("div",{staticClass:"p-4 border border-solid d-theme-border-grey-light rounded-full d-theme-dark-bg cursor-pointer flex items-center justify-between font-medium"},[e("span",{staticClass:"mr-2"},[t._v(t._s(t.currentPage*t.itemsPerPage-(t.itemsPerPage-1))+" - "+t._s(t.Rentals.length-t.currentPage*t.itemsPerPage>0?t.currentPage*t.itemsPerPage:t.Rentals.length)+" of "+t._s(t.queriedItems))]),e("feather-icon",{attrs:{icon:"ChevronDownIcon",svgClasses:"h-4 w-4"}})],1),e("vs-dropdown-menu",[e("vs-dropdown-item",{on:{click:function(e){t.itemsPerPage=4}}},[e("span",[t._v("4")])]),e("vs-dropdown-item",{on:{click:function(e){t.itemsPerPage=10}}},[e("span",[t._v("10")])]),e("vs-dropdown-item",{on:{click:function(e){t.itemsPerPage=15}}},[e("span",[t._v("15")])]),e("vs-dropdown-item",{on:{click:function(e){t.itemsPerPage=20}}},[e("span",[t._v("20")])])],1)],1)],1),e("template",{slot:"thead"},[e("vs-th",[t._v("Bon location N°")]),e("vs-th",[t._v("Nom Client")]),e("vs-th",[t._v("Statut")]),e("vs-th",[t._v("Net a payer HT")]),e("vs-th",[t._v("Total TTC")]),e("vs-th",[t._v("Statut P")]),e("vs-th",[t._v("Avance")]),e("vs-th",[t._v("Reste")]),e("vs-th",[t._v("Actions")])],1)],2),e("vs-popup",{staticClass:"calendar-event-dialog",attrs:{title:"Détails Bon location","accept-text":"Modifier","cancel-text":"Supprimer",active:t.activePromptEditRental},on:{"update:active":function(e){t.activePromptEditRental=e}}},[e("vs-input",{staticClass:"w-full mt-5 mb-4",attrs:{type:"number","label-placeholder":"Numéro"},model:{value:t.RentalData.number,callback:function(e){t.$set(t.RentalData,"number",e)},expression:"RentalData.number"}}),e("vs-input",{staticClass:"w-full mt-5 mb-4",attrs:{"label-placeholder":"Client"},model:{value:t.RentalData.client_name,callback:function(e){t.$set(t.RentalData,"client_name",e)},expression:"RentalData.client_name"}}),e("vs-input",{staticClass:"w-full mt-5 mb-4",attrs:{"label-placeholder":"Adresse"},model:{value:t.RentalData.client_adr,callback:function(e){t.$set(t.RentalData,"client_adr",e)},expression:"RentalData.client_adr"}}),e("vs-input",{staticClass:"w-full mt-5 mb-4",attrs:{"label-placeholder":"Téléphone"},model:{value:t.RentalData.client_tel,callback:function(e){t.$set(t.RentalData,"client_tel",e)},expression:"RentalData.client_tel"}}),e("vs-input",{staticClass:"w-full mt-5 mb-4",attrs:{disabled:"",type:"number","label-placeholder":"Total Net HT"},model:{value:t.RentalData.total_net_ht,callback:function(e){t.$set(t.RentalData,"total_net_ht",e)},expression:"RentalData.total_net_ht"}}),e("vs-input",{staticClass:"w-full mt-5 mb-4",attrs:{disabled:"",type:"number","label-placeholder":"Total TTC"},model:{value:t.RentalData.total_ttc,callback:function(e){t.$set(t.RentalData,"total_ttc",e)},expression:"RentalData.total_ttc"}}),e("vs-input",{staticClass:"w-full mt-5 mb-4",attrs:{disabled:"",type:"number","label-placeholder":"TVA"},model:{value:t.RentalData.tva,callback:function(e){t.$set(t.RentalData,"tva",e)},expression:"RentalData.tva"}}),e("vs-input",{staticClass:"w-full mt-5 mb-4",attrs:{disabled:"",type:"number","label-placeholder":"Timbre fiscale"},model:{value:t.RentalData.fiscal,callback:function(e){t.$set(t.RentalData,"fiscal",e)},expression:"RentalData.fiscal"}}),e("vs-input",{staticClass:"w-full mt-5 mb-4",attrs:{type:"number","label-placeholder":"Avance"},on:{change:t.Changeadvance},model:{value:t.RentalData.advance,callback:function(e){t.$set(t.RentalData,"advance",e)},expression:"RentalData.advance"}}),e("vs-input",{staticClass:"w-full mt-5 mb-4",attrs:{type:"number","label-placeholder":"Reste"},model:{value:t.RentalData.rest,callback:function(e){t.$set(t.RentalData,"rest",e)},expression:"RentalData.rest"}}),e("label",{attrs:{for:"items"}},[t._v("Statut")]),e("v-select",{staticClass:"mb-3",attrs:{options:["En attente","Confirmé","Annulé "]},model:{value:t.RentalData.rental_status,callback:function(e){t.$set(t.RentalData,"rental_status",e)},expression:"RentalData.rental_status"}}),e("label",{attrs:{for:"items"}},[t._v("Produits")]),e("v-select",{attrs:{disabled:"",id:"items",multiple:"",closeOnSelect:!1,options:t.itemsDataOrderedItems,label:"item",dir:t.$vs.rtl?"rtl":"ltr"},model:{value:t.itemsDataOrderedItems,callback:function(e){t.itemsDataOrderedItems=e},expression:"itemsDataOrderedItems"}}),e("br"),e("div",{staticClass:"mt-4"},[e("vs-button",{staticClass:"mr-4",attrs:{"icon-pack":"feather"},on:{click:t.PutRental}},[t._v("Valider")]),e("vs-button",{attrs:{"icon-pack":"feather",color:"warning"},on:{click:function(e){t.activePromptEditRental=!1}}},[t._v("Annuler")])],1)],1),e("vs-popup",{attrs:{fullscreen:"",active:t.activePromptPrintRental},on:{"update:active":function(e){t.activePromptPrintRental=e}}},[e("div",{attrs:{id:"Rental-page"}},[e("div",{staticClass:"flex flex-wrap items-center justify-between"},[e("vx-input-group",{staticClass:"mb-base mr-3"},[e("template",{slot:"append"},[e("div",{staticClass:"append-text btn-addon"})])],2),e("div",{staticClass:"flex items-center"},[e("vs-button",{staticClass:"mb-base mr-3",attrs:{"icon-pack":"feather",icon:"icon icon-file"},on:{click:t.printRental}},[t._v("Imprimer\n          ")])],1)],1),e("vx-card",{attrs:{id:"Rental-container"}},[e("div",{staticClass:"vx-row leading-loose p-base"},[e("div",{staticClass:"vx-col w-full md:w-1/2 mt-base"},[e("img",{attrs:{src:a("4148"),alt:"vuexy-logo"}})]),e("div",{staticClass:"vx-col w-full md:w-1/2 text-right"},[e("h1",[t._v("Bon location N°")]),e("p",[t._v(t._s(t.RentalDetails.RentalNo))]),e("h6",{staticClass:"mt-4"},[t._v("ARIANA LE")]),e("p",[t._v(t._s(t.RentalDetails.Rental))]),e("h5",{staticClass:"mt-5 mb-6"},[t._v(t._s(t.companyDetails.name))]),e("h6",{staticClass:"mt-4"},[t._v("Date de début ")]),e("p",[t._v(t._s(t.RentalDetails.RentalNo))]),e("h6",[t._v("Date de fin")]),e("p",[t._v(t._s(t.RentalDetails.RentalNo))])]),e("div",{staticClass:"vx-col w-full mt-12"},[e("h5",[t._v("Informations du Client")]),e("div",{staticClass:"Rental__recipient-info my-4"},[e("p",[t._v(t._s(t.recipientDetails.fullName))]),e("p",[t._v(t._s(t.recipientDetails.addressLine1))])]),e("div",{staticClass:"Rental__recipient-contact"},[e("p",{staticClass:"flex items-center"},[e("feather-icon",{attrs:{icon:"MailIcon",svgClasses:"h-4 w-4"}}),e("span",{staticClass:"ml-2"},[t._v(t._s(t.recipientDetails.mailId))])],1),e("p",{staticClass:"flex items-center"},[e("feather-icon",{attrs:{icon:"PhoneIcon",svgClasses:"h-4 w-4"}}),e("span",{staticClass:"ml-2"},[t._v(t._s(t.recipientDetails.mobile))])],1)])])]),e("div",{staticClass:"p-base"},[e("vs-table",{attrs:{hoverFlat:"",data:t.RentalData.tasks},scopedSlots:t._u([{key:"default",fn:function(a){var s=a.data;return t._l(s,(function(a,n){return e("vs-tr",{key:n},[e("vs-td",{attrs:{data:s[n].task}},[t._v(t._s(s[n].task))]),e("vs-td",{attrs:{data:s[n].hours}},[t._v(t._s(s[n].hours))]),e("vs-td",{attrs:{data:s[n].rate}},[t._v(t._s(s[n].rate)+" DT")]),e("vs-td",{attrs:{data:s[n].amount}},[t._v(t._s(s[n].amount)+" DT")])],1)}))}}])},[e("template",{slot:"thead"},[e("vs-th",[t._v("ARTICLES")]),e("vs-th",[t._v("P.U")]),e("vs-th",[t._v("QTE")]),e("vs-th",[t._v("COUT")])],1)],2),e("vs-table",{staticClass:"w-1/2 ml-auto mt-4",attrs:{hoverFlat:"",data:t.RentalData}},[e("vs-tr",[e("vs-th",[t._v("TOTAL HT")]),e("vs-td",[t._v(t._s(t.RentalData.subtotal)+" DT")])],1),e("vs-tr",[e("vs-th",[t._v("NET A PAYER HT")]),e("vs-td",[t._v(t._s(t.RentalData.discountedAmount)+" DT")])],1),e("vs-tr",[e("vs-th",[t._v("AVANCE")]),e("vs-td",[t._v(t._s(t.RentalData.discountedAmount)+" DT")])],1),e("vs-tr",[e("th",[t._v("RESTE")]),e("td",[t._v(t._s(t.RentalData.total)+" DT")])])],1)],1),e("div",{staticClass:"Rental__footer text-right p-base"},[e("p",{staticClass:"mb-4",staticStyle:{"text-align":"center"}},[t._v("Mode de paiement : minimum 40% à la confirmation et le reste 24h\n            avant\n            l'évènement.\n          ")]),e("p",{staticStyle:{"text-align":"center"}},[e("span",{staticClass:"mr-8"},[e("b",[t._v("Adresse: ")]),e("span",[t._v("78 Rue Taieb Mhiri, Ariana")])]),e("span",{staticClass:"mr-8"},[e("b",[t._v("Tel: ")]),e("span",[t._v("70 319 178 - 52 864 219")])]),e("span",{staticClass:"mr-8"},[e("b",[t._v("Email: ")]),e("span",[t._v("bharevents@gmail.com")])])])])])],1)])],1)},n=[],i=(a("96cf"),a("1da1")),r=a("ade3"),l=a("ee31"),c=a("4a7a"),o=a.n(c),u=a("bc3a"),d=a.n(u),m={components:{"v-select":o.a},data:function(){var t;return t={activePromptPrintRental:!1,mailTo:"",companyDetails:{name:"Société Afrah Bhar",addressLine1:"Ariana",zipcode:"2080",mailId:"bhar.events@gmail.com",mobile:"70 319 178"},recipientDetails:{fullName:"Peter Stark",addressLine1:"8577 West West Drive ",addressLine2:"Holbrook, NY",zipcode:"90001",mailId:"peter@mail.com",mobile:"+91 988 888 8888"},RentalDetails:{RentalNo:"001/2019",RentalDate:"Mon Dec 10 2018 07:46:00 GMT+0000 (GMT)"},RentalData:{tasks:[{id:1,task:"Website Redesign",hours:60,rate:15,amount:9e4},{id:2,task:"Newsletter template design",hours:20,rate:12,amount:24e3}],subtotal:114e3,discountPercentage:5,discountedAmount:5700,total:108300},nbTest:0,activePromptEditRental:!1},Object(r["a"])(t,"RentalData",{}),Object(r["a"])(t,"items_Data_2",[]),Object(r["a"])(t,"itemsDataOrdered",[]),Object(r["a"])(t,"itemsDataOrderedItems",[]),Object(r["a"])(t,"Rentals",[]),Object(r["a"])(t,"selected",[]),Object(r["a"])(t,"itemsPerPage",10),Object(r["a"])(t,"isMounted",!1),Object(r["a"])(t,"addNewDataSidebar",!1),Object(r["a"])(t,"sidebarData",{}),t},computed:{currentPage:function(){return this.isMounted?this.$refs.table.currentx:0},queriedItems:function(){return this.$refs.table?this.$refs.table.queriedResults.length:this.Rentals.length}},methods:{activePromptPrint:function(){this.activePromptPrintRental=!0},printRental:function(){window.print()},GetRentals:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,d.a.get("/rentalVoucher/",{headers:{Authorization:"Token ".concat(localStorage.getItem("access_token"))}}).then((function(t){e.Rentals=t.data}));case 2:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}(),deleteData:function(t){this.$store.dispatch("dataList/removeItem",t).catch((function(t){console.error(t)}))},GetRental:function(t){var e=this;this.RentalData=t,this.items_Data_2=this.RentalData.items_Data_2,this.items_Data_2.map((function(t){e.itemsDataOrderedItems.push(t.orderedItemData)})),this.activePromptEditRental=!0},Changeadvance:function(){this.RentalData.rest=this.RentalData.total_ttc-this.RentalData.advance},PutRental:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.items_Data_2.map((function(t){e.RentalData.items.push(t.id)})),0==this.RentalData.rest?this.RentalData.payment_status="Payée":this.RentalData.payment_status="Impayée",t.next=4,d.a.put("/rentalVoucher/"+this.RentalData.id+"/",this.RentalData,{headers:{Authorization:"Token ".concat(localStorage.getItem("access_token"))}}).then((function(){e.$vs.notify({title:"Validation avec succès",color:"success"}),e.GetRentals(),e.activePromptEditRental=!1})).catch((function(){e.$vs.notify({title:"Erreur de modification",text:"veuillez vérifier vos informations",iconPack:"feather",icon:"icon-alert-circle",color:"danger"}),e.activePromptEditRental=!0}));case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),DeleteRental:function(t){this.RentalData=t,this.$vs.dialog({type:"confirm",color:"danger",title:"Confirmation de la suppression",text:'Supprimer "'.concat(t.number,'"'),acceptText:"Supprimer",accept:this.ConfirmDeleteRental,cancelText:"Annuler"})},ConfirmDeleteRental:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,d.a.delete("/rentalVoucher/"+this.RentalData.id+"/",{headers:{Authorization:"Token ".concat(localStorage.getItem("access_token"))}}).then((function(){e.$vs.notify({title:"Suppression avec succès",color:"success"}),e.GetRentals(),e.activePromptEditRental=!1})).catch((function(){e.$vs.notify({title:"Suppression avec Suppression",text:"veuillez essayer plus tard",iconPack:"feather",icon:"icon-alert-circle",color:"danger"}),e.activePromptEditRealStock=!0}));case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getOrderStatusColor:function(t){return"En attente"==t?"warning":"Confirmé"==t?"success":"Annulé"==t?"danger":"primary"},getPaymentStatusColor:function(t){return"Payée"==t?"success":"Impayée"==t?"danger":"primary"},getPopularityColor:function(t){return t>90?"success":t>70?"primary":t>=50?"warning":t<50?"danger":"primary"},toggleDataSidebar:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.addNewDataSidebar=t}},created:function(){l["a"].isRegistered||(this.$store.registerModule("dataList",l["a"]),l["a"].isRegistered=!0)},mounted:function(){this.isMounted=!0,this.$emit("setAppClasses","Rental-page"),this.GetRentals()}},v=m,p=(a("e36e"),a("2877")),f=Object(p["a"])(v,s,n,!1,null,null,null);e["default"]=f.exports},4148:function(t,e,a){t.exports=a.p+"img/logoPrint.6e1ae9ac.png"},a4bd:function(t,e,a){},ade3:function(t,e,a){"use strict";function s(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}a.d(e,"a",(function(){return s}))},e36e:function(t,e,a){"use strict";a("a4bd")},ee31:function(t,e,a){"use strict";var s={products:[]},n=(a("20d6"),{ADD_ITEM:function(t,e){t.products.unshift(e)},SET_PRODUCTS:function(t,e){t.products=e},UPDATE_PRODUCT:function(t,e){var a=t.products.findIndex((function(t){return t.id==e.id}));Object.assign(t.products[a],e)},REMOVE_ITEM:function(t,e){var a=t.products.findIndex((function(t){return t.id==e}));t.products.splice(a,1)}}),i=a("bb36"),r={addItem:function(t,e){var a=t.commit;return new Promise((function(t,s){i["default"].post("/api/data-list/products/",{item:e}).then((function(s){a("ADD_ITEM",Object.assign(e,{id:s.data.id})),t(s)})).catch((function(t){s(t)}))}))},updateItem:function(t,e){var a=t.commit;return new Promise((function(t,s){i["default"].post("/api/data-list/products/".concat(e.id),{item:e}).then((function(e){a("UPDATE_PRODUCT",e.data),t(e)})).catch((function(t){s(t)}))}))},removeItem:function(t,e){var a=t.commit;return new Promise((function(t,s){i["default"].delete("/api/data-list/products/".concat(e)).then((function(s){a("REMOVE_ITEM",e),t(s)})).catch((function(t){s(t)}))}))}},l={};e["a"]={isRegistered:!1,namespaced:!0,state:s,mutations:n,actions:r,getters:l}}}]);
//# sourceMappingURL=chunk-42fe980c.fe373207.js.map